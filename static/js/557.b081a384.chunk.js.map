{"version":3,"file":"static/js/557.b081a384.chunk.js","mappings":"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","sources":["components/Actions.tsx","utils/helpers/parseDate.ts","pages/News.tsx","utils/helpers/sortDate.ts"],"sourcesContent":["import { Flex } from \"antd\";\nimport React from \"react\";\n\ntype Props = {};\n\nconst Actions = (props: Props) => {\n  return (\n    <Flex>\n      <></>\n    </Flex>\n  );\n};\n\nexport default Actions;\n","export const parseDate = (dateString: string): Date => {\n  const [day, month, rest] = dateString.split(\"-\");\n  const [year, time] = rest.split(\" \");\n  const [hours, minutes] = time.split(\":\");\n  return new Date(\n    parseInt(year),\n    parseInt(month) - 1,\n    parseInt(day),\n    parseInt(hours),\n    parseInt(minutes),\n  );\n};\n","import React, { useState } from \"react\";\n\nimport { Form, Input, Layout, Popconfirm, Table, Typography } from \"antd\";\nimport Title from \"antd/es/typography/Title\";\n\nimport dayjs from \"dayjs\";\n\nimport Actions from \"../components/Actions\";\nimport { constants } from \"../utils/constants\";\nimport { sortDate } from \"../utils/helpers\";\n\nimport \"./styles/_news.scss\";\n\ntype Props = {};\ninterface Item {\n  key: string;\n  name: string;\n\n  date: string;\n}\n\nconst originData: Item[] = [];\nfor (let i = 0; i < 100; i++) {\n  originData.push({\n    key: i.toString(),\n    name: `Новина ${i}`,\n    date:\n      i % 2 === 0\n        ? dayjs(new Date()).format(constants.dateFormat).toString()\n        : dayjs(new Date(new Date().setDate(21)))\n            .format(constants.dateFormat)\n            .toString(),\n  });\n}\n\n//  type: i % 2 === 0 ? \"Семінар\" : \" Тренінг\",\n//     orientation: i % 2 === 0 ? \"Виховники\" : \"Міжнародники\",\n//     ageRestrictions: i % 2 === 0 ? \"Суменята\" : \"Дружинники\",\n\ninterface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\n  editing: boolean;\n  dataIndex: string;\n  title: any;\n  inputType: \"date\" | \"text\";\n  record: Item;\n  index: number;\n  children: React.ReactNode;\n}\n\nconst EditableCell: React.FC<EditableCellProps> = ({\n  editing,\n  dataIndex,\n  title,\n  inputType,\n  record,\n  index,\n  children,\n  ...restProps\n}) => {\n  const inputNode = <Input />;\n\n  return (\n    <td {...restProps}>\n      {editing ? (\n        <Form.Item\n          name={dataIndex}\n          style={{ margin: 0 }}\n          rules={[\n            {\n              required: true,\n              message: `Введіть ${title}!`,\n            },\n          ]}\n        >\n          {inputNode}\n        </Form.Item>\n      ) : (\n        children\n      )}\n    </td>\n  );\n};\n\nconst News = (props: Props) => {\n  const [form] = Form.useForm();\n  const [data, setData] = useState(originData);\n  const [editingKey, setEditingKey] = useState(\"\");\n\n  const isEditing = (record: Item) => record.key === editingKey;\n\n  const edit = (record: Partial<Item> & { key: React.Key }) => {\n    form.setFieldsValue({\n      name: \"\",\n\n      date: \"\",\n\n      ...record,\n    });\n    setEditingKey(record.key);\n  };\n\n  const cancel = () => {\n    setEditingKey(\"\");\n  };\n\n  const save = async (key: React.Key) => {\n    try {\n      const row = (await form.validateFields()) as Item;\n\n      const newData = [...data];\n      const index = newData.findIndex((item) => key === item.key);\n      if (index > -1) {\n        const item = newData[index];\n        newData.splice(index, 1, {\n          ...item,\n          ...row,\n        });\n        setData(newData);\n        setEditingKey(\"\");\n      } else {\n        newData.push(row);\n        setData(newData);\n        setEditingKey(\"\");\n      }\n    } catch (errInfo) {\n      console.log(\"Validate Failed:\", errInfo);\n    }\n  };\n\n  const deleteNew = (record: Partial<Item>) => {\n    const newData = [...data];\n    const index = data.findIndex((item) => record.key === item.key);\n    newData.splice(index, 1);\n    setData(newData);\n  };\n\n  const columns = [\n    {\n      title: \"Новина\",\n      dataIndex: \"name\",\n      width: \"45%\",\n      editable: true,\n    },\n    {\n      title: \"Дата\",\n      dataIndex: \"date\",\n      width: \"20%\",\n      editable: false,\n      sorter: (a: Item, b: Item) => sortDate(a.date, b.date),\n    },\n    {\n      title: \"Дії\",\n      dataIndex: \"operation\",\n      render: (_: any, record: Item) => {\n        const editable = isEditing(record);\n        return (\n          <>\n            {editable ? (\n              <span>\n                <Typography.Link\n                  onClick={() => save(record.key)}\n                  style={{ marginRight: 8 }}\n                >\n                  Зберегти\n                </Typography.Link>\n                <Popconfirm\n                  title=\"Ви впевнені, що хочете скасувати?\"\n                  onConfirm={cancel}\n                >\n                  <Typography.Link style={{ marginRight: 8 }}>\n                    Скасувати\n                  </Typography.Link>\n                </Popconfirm>\n              </span>\n            ) : (\n              <Typography.Link\n                disabled={editingKey !== \"\"}\n                onClick={() => edit(record)}\n                className=\"edit-btn\"\n              >\n                Редагувати\n              </Typography.Link>\n            )}\n            <Typography.Link\n              disabled={editingKey !== \"\"}\n              onClick={() => deleteNew(record)}\n              className=\"delete-btn\"\n            >\n              Видалити\n            </Typography.Link>\n          </>\n        );\n      },\n    },\n  ];\n\n  const mergedColumns = columns.map((col) => {\n    if (!col.editable) {\n      return col;\n    }\n    return {\n      ...col,\n      onCell: (record: Item) => ({\n        record,\n        inputType: col.dataIndex === \"date\" ? \"date\" : \"text\",\n        dataIndex: col.dataIndex,\n        title: col.title,\n        editing: isEditing(record),\n      }),\n    };\n  });\n\n  return (\n    <Layout className=\"news-layout\">\n      <Title>Новини</Title>\n      <Actions />\n      <Form form={form} component={false}>\n        <Table\n          components={{\n            body: {\n              cell: EditableCell,\n            },\n          }}\n          bordered\n          dataSource={data}\n          columns={mergedColumns}\n          rowClassName=\"editable-row\"\n          pagination={{\n            onChange: cancel,\n          }}\n          sticky={true}\n        />\n      </Form>\n    </Layout>\n  );\n};\n\nexport default News;\n\n// const range = (start: number, end: number) => {\n//   const result = [];\n//   for (let i = start; i < end; i++) {\n//     result.push(i);\n//   }\n//   return result;\n// };\n// const disabledDate: RangePickerProps[\"disabledDate\"] = (current) => {\n//   return current && current < dayjs().endOf(\"day\");\n// };\n\n// const disabledDateTime = () => ({\n//   disabledHours: () => range(0, 24).splice(4, 20),\n//   disabledMinutes: () => range(30, 60),\n// });\n","import { parseDate } from \"./parseDate\";\n\nexport const sortDate = (aDate: string, bDate: string) => {\n  const dateA = parseDate(aDate);\n  const dateB = parseDate(bDate);\n  return dateA.getTime() - dateB.getTime();\n};\n"],"names":["props","_jsx","Flex","children","_Fragment","parseDate","dateString","day","month","rest","split","year","time","hours","minutes","Date","parseInt","originData","i","push","key","toString","name","concat","date","dayjs","format","constants","setDate","EditableCell","_ref","editing","dataIndex","title","inputType","record","index","restProps","inputNode","Input","Form","Item","style","margin","rules","required","message","form","useForm","data","setData","useState","editingKey","setEditingKey","isEditing","cancel","mergedColumns","width","editable","sorter","a","b","sortDate","aDate","bDate","dateA","dateB","getTime","render","_","_jsxs","Typography","Link","onClick","async","row","validateFields","newData","findIndex","item","splice","errInfo","console","log","save","marginRight","Popconfirm","onConfirm","disabled","setFieldsValue","edit","className","deleteNew","map","col","onCell","Layout","Title","Actions","component","Table","components","body","cell","bordered","dataSource","columns","rowClassName","pagination","onChange","sticky"],"sourceRoot":""}