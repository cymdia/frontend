"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[142],{7142:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var i=n(2791),a=n(177),d=n(8569),s=n(6921),r=n(3069),l=n(586),c=n(7533),o=n(9434),m=n(2499),x=n(7689),h=n(4520),p=n(2641);var u=n(184);const j=e=>{let{buttonName:t}=e;const n=(0,x.s0)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(h.Z,{justify:"flex-end",children:(0,u.jsx)(p.ZP,{type:"primary",className:"create-new-btn",size:"large",onClick:()=>{n("edit")},children:t})})})},g=e=>{const[t,n,i]=e.split("-"),[a,d]=i.split(" "),[s,r]=d.split(":");return new Date(parseInt(a),parseInt(n)-1,parseInt(t),parseInt(s),parseInt(r))};var b=n(1155),I=n(2033);const y=e=>{let{editing:t,dataIndex:n,title:i,inputType:s,record:r,index:l,children:c,...o}=e;const m=(0,u.jsx)(a.Z,{});return(0,u.jsx)("td",{...o,children:t?(0,u.jsx)(d.Z.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c ".concat(i,"!")}],children:m}):c})},Z=e=>{const[t]=d.Z.useForm(),[n,a]=(0,i.useState)(""),x=(0,o.v9)((e=>e.news)),h=(0,o.I0)();(0,i.useEffect)((()=>{x.needUpdate?h((0,I.aL)()):h((0,b.L)(!0))}),[]);const p=e=>e.id===n,Z=()=>{a("")},k=[{title:"\u041d\u043e\u0432\u0438\u043d\u0430",dataIndex:"name",width:"25%",editable:!0},{title:"\u041e\u043f\u0438\u0441",dataIndex:"description",width:"35%",editable:!0},{title:"\u0414\u0430\u0442\u0430",dataIndex:"date",width:"20%",editable:!1,sorter:(e,t)=>((e,t)=>{const n=g(e),i=g(t);return n.getTime()-i.getTime()})(e.date,t.date)},{title:"\u0414\u0456\u0457",dataIndex:"operation",render:(e,i)=>{const d=p(i);return(0,u.jsxs)(u.Fragment,{children:[d?(0,u.jsxs)("span",{children:[(0,u.jsx)(s.Z.Link,{onClick:()=>(async e=>{try{const n=await t.validateFields(),i=x.items.find((t=>t.id===e));h((0,I._T)({...i,...n,id:e})),a("")}catch(n){console.log("Validate Failed:",n)}})(i.id),style:{marginRight:8},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,u.jsx)(r.Z,{title:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438?",onConfirm:Z,children:(0,u.jsx)(s.Z.Link,{style:{marginRight:8},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})})]}):(0,u.jsx)(s.Z.Link,{disabled:""!==n,onClick:()=>(e=>{t.setFieldsValue({name:"",description:"",date:"",...e}),a(e.id)})(i),className:"edit-btn",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"}),(0,u.jsx)(s.Z.Link,{disabled:""!==n,onClick:()=>(e=>{h((0,I.Yh)(e.id))})(i),className:"delete-btn",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})}}].map((e=>e.editable?{...e,onCell:t=>({record:t,inputType:"date"===e.dataIndex?"date":"text",dataIndex:e.dataIndex,title:e.title,editing:p(t)})}:e));return(0,u.jsxs)(l.Z,{className:"news-layout layout",children:[(0,u.jsx)(m.Z,{children:"\u041d\u043e\u0432\u0438\u043d\u0438"}),(0,u.jsx)(j,{buttonName:"+ \u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u043d\u0443"}),(0,u.jsx)(d.Z,{form:t,component:!1,children:(0,u.jsx)(c.Z,{components:{body:{cell:y}},bordered:!0,dataSource:x.items,columns:k,rowClassName:"editable-row",pagination:{onChange:Z},sticky:!0,loading:x.isLoading})})]})}}}]);
//# sourceMappingURL=142.f8be6bd9.chunk.js.map