"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[911],{2255:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7689),i=n(4520),d=n(2641);var s=n(184);const r=e=>{let{buttonName:t}=e;const n=(0,a.s0)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{justify:"flex-end",children:(0,s.jsx)(d.ZP,{type:"primary",className:"create-new-btn",size:"large",onClick:()=>{n("edit")},children:t})})})}},936:(e,t,n)=>{n.d(t,{n:()=>u});var a=n(8569),i=n(2648),d=n(1370),s=n(177),r=n(1615),l=n(3344),c=n(7419),o=n(184);const u=e=>{let{editing:t,dataIndex:n,title:i,inputType:d,record:s,index:r,children:l,...c}=e;const u=h(d,n);return(0,o.jsx)("td",{...c,children:t?(0,o.jsx)(a.Z.Item,{name:n,style:{margin:0},rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c ".concat(i,"!")}],children:u}):l})},h=(e,t)=>{switch(e){case"date":return(0,o.jsx)(i.Z,{picker:"date",format:r.vc,showTime:{hideDisabledOptions:!0},disabledDate:c.Q8});case"dropdownlist":return(0,o.jsx)(d.Z,{options:m(t),placeholder:t});default:return(0,o.jsx)(s.Z,{})}},m=e=>{switch(e){case"ageRestrictions":return l.UU;case"orientation":return l.qv;default:return l.PI}}},6101:(e,t,n)=>{n.d(t,{z:()=>s});var a=n(6921),i=n(3069),d=n(184);const s=e=>{let{editingKey:t,isEditing:n,save:s,cancel:r,edit:l,deleteItem:c}=e;return{title:"\u0414\u0456\u0457",dataIndex:"operation",editable:!1,render:(e,o)=>{const u=n(o);return(0,d.jsxs)(d.Fragment,{children:[u?(0,d.jsxs)("span",{children:[(0,d.jsx)(a.Z.Link,{onClick:()=>s(o.id),style:{marginRight:8},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"}),(0,d.jsx)(i.Z,{title:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0441\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438?",onConfirm:r,children:(0,d.jsx)(a.Z.Link,{style:{marginRight:8},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})})]}):(0,d.jsx)(a.Z.Link,{disabled:""!==t,onClick:()=>l(o),className:"edit-btn",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"}),(0,d.jsx)(a.Z.Link,{disabled:""!==t,onClick:()=>c(o),className:"delete-btn",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})}}}},9911:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(2791),i=n(8569),d=n(586),s=n(4388),r=n(9434),l=n(2499),c=n(7419),o=n(9599),u=n(9522),h=n(2255),m=n(6101),p=n(936),x=n(184);const g=e=>{const[t]=i.Z.useForm(),[n,g]=(0,a.useState)(""),b=(0,r.v9)((e=>e.events)),w=(0,r.I0)();(0,a.useEffect)((()=>{b.needUpdate?w((0,u.sZ)()):w((0,o.L)(!0))}),[]);const I=e=>e.id===n,j=()=>{g("")},v=[{title:"\u041f\u043e\u0434\u0456\u044f",dataIndex:"name",width:"15%",editable:!0},{title:"\u0422\u0438\u043f",dataIndex:"type",width:"10%",editable:!0},{title:"\u041e\u0440\u0456\u0454\u043d\u0442\u0430\u0446\u0456\u044f",dataIndex:"orientation",width:"10%",editable:!0},{title:"\u0412\u0456\u043a\u043e\u0432\u0456 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u043d\u044f",dataIndex:"ageRestrictions",width:"10%",editable:!0},{title:"\u041c\u0456\u0441\u0446\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044f",dataIndex:"venue",width:"10%",editable:!0},{title:"\u0424\u0456\u043d\u0430\u043d\u0441\u043e\u0432\u0456 \u043e\u0441\u043e\u0431\u043b\u0438\u0432\u043e\u0441\u0442\u0456",dataIndex:"financialFeatures",width:"10%",editable:!0},{title:"\u0414\u0430\u0442\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443",dataIndex:"startDate",width:"10%",editable:!0,sorter:(e,t)=>{var n,a;return(0,c.Tl)(null!==(n=e.startDate)&&void 0!==n?n:"",null!==(a=t.startDate)&&void 0!==a?a:"")}},{title:"\u0414\u0430\u0442\u0430 \u043a\u0456\u043d\u0446\u044f",dataIndex:"endDate",width:"10%",editable:!0,sorter:(e,t)=>{var n,a;return(0,c.Tl)(null!==(n=e.endDate)&&void 0!==n?n:"",null!==(a=t.endDate)&&void 0!==a?a:"")}},(0,m.z)({editingKey:n,isEditing:I,save:async e=>{try{const n=await t.validateFields(),a=b.items.find((t=>t.id===e));w((0,u.UB)({...a,...n,id:e})),g("")}catch(n){console.log("Validate Failed:",n)}},cancel:j,edit:e=>{const n={name:"",type:"",orientation:"",ageRestrictions:"",venue:"",financialFeatures:"",...e,startDate:e.startDate?(0,c.mB)(e.startDate):null,endDate:e.endDate?(0,c.mB)(e.endDate):null};t.setFieldsValue(n),g(e.id)},deleteItem:e=>{w((0,u.Bt)(e.id))}})].map((e=>"editable"in e&&!e.editable?e:{...e,onCell:t=>({record:t,inputType:(0,c.hJ)(e.dataIndex),dataIndex:e.dataIndex,title:e.title,editing:I(t)})}));return(0,x.jsxs)(d.Z,{className:"news-layout layout",children:[(0,x.jsx)(l.Z,{children:"\u041f\u043e\u0434\u0456\u0457"}),(0,x.jsx)(h.Z,{buttonName:"+ \u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u043e\u0434\u0456\u044e"}),(0,x.jsx)(i.Z,{form:t,component:!1,children:(0,x.jsx)(s.Z,{components:{body:{cell:p.n}},bordered:!0,dataSource:b.items,columns:v,rowClassName:"editable-row",pagination:{onChange:j},sticky:!0,loading:b.isLoading})})]})}},7419:(e,t,n)=>{n.d(t,{Q8:()=>r,hJ:()=>c,mB:()=>l,Tl:()=>i});const a=e=>{const[t,n,a]=e.split("-"),[i,d]=a.split(" "),[s,r]=d.split(":");return new Date(parseInt(i),parseInt(n)-1,parseInt(t),parseInt(s),parseInt(r))},i=(e,t)=>{const n=a(e),i=a(t);return n.getTime()-i.getTime()};var d=n(7892),s=n.n(d);const r=e=>e&&e<s()().endOf("day"),l=e=>{if(!e)return s()();const t=e.split(" "),n=t[0].split("-"),a=t[1].split(":"),i="".concat(n[2],"-").concat(n[1],"-").concat(n[0],"T").concat(a[0],":").concat(a[1],":00.000");return s()(new Date(i))},c=e=>{switch(e){case"startDate":case"endDate":return"date";case"ageRestrictions":case"orientation":case"type":return"dropdownlist";default:return"text"}}}}]);
//# sourceMappingURL=911.9ffb406f.chunk.js.map